<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        // Replace with your Discord Webhook URL
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1327822515170705419/uIuBHQOVxSUzVTMiG8Eektaj11GNRfaTf_bgv0A2XEmVrN5WviTw2RSRstEv0DmBLZXX";

        // Function to send the webhook with a stylized message
        function sendWebhook() {
            const payload = {
                content: "A user just visited the redirect page!",
                username: "Redirect Bot",
                embeds: [{
                    title: "User Redirected",
                    description: "A user has been redirected to the Discord server.",
                    color: 0x3498db,
                    fields: [
                        {
                            name: "Action",
                            value: "User visited the redirect page.",
                            inline: true
                        },
                        {
                            name: "Time",
                            value: new Date().toLocaleString(),
                            inline: true
                        }
                    ],
                    footer: {
                        text: "Redirect Event",
                    },
                    timestamp: new Date().toISOString(),
                    thumbnail: {
                        url: "https://example.com/your_image_url.png" // Optional thumbnail URL
                    }
                }]
            };

            // Fetch API method (preferred)
            fetch(WEBHOOK_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload)
            }).catch(err => {
                console.error("Fetch failed, trying XMLHttpRequest...");
                sendWebhookXML(payload);  // If fetch fails, try the XMLHttpRequest
            });

            // Older XMLHttpRequest method (fallback)
            function sendWebhookXML(data) {
                const xhr = new XMLHttpRequest();
                xhr.open("POST", WEBHOOK_URL, true);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.send(JSON.stringify(data));
                xhr.onerror = () => {
                    console.error("XMLHttpRequest failed, trying Image method...");
                    sendWebhookImage(data);  // If XMLHttpRequest fails, try Image method
                };
            }

            // Image method (fallback for the last resort)
            function sendWebhookImage(data) {
                const img = new Image();
                const url = `${WEBHOOK_URL}?content=${encodeURIComponent(data.content)}&username=${encodeURIComponent(data.username)}`;
                img.src = url;
                img.onload = () => {
                    console.log("Webhook sent via Image method.");
                };
                img.onerror = () => {
                    console.error("Image method failed. Unable to send webhook.");
                };
            }
        }

        // Redirect to Discord Server after sending the webhook
        function redirectToDiscord() {
            sendWebhook(); // Send webhook before redirecting
            window.location.href = "https://discord.gg/3RQwUPbrqh";  // Replace with your Discord server invite URL
        }

        // Run redirect immediately when the page loads
        window.onload = redirectToDiscord;
    </script>
</head>
<body>
    <!-- No content, automatically redirects and sends webhook -->
</body>
</html>
